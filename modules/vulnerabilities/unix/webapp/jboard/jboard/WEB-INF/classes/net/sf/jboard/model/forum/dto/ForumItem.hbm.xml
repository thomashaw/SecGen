<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE hibernate-mapping
    PUBLIC "-//Hibernate/Hibernate Mapping DTD//EN"
    "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">

<hibernate-mapping>

 <class name="net.sf.jboard.model.forum.dto.ForumItem" table="forumitem" >
   <id name="id"  type="long" unsaved-value="0" column="forumitem_id">
   	 <generator class="native">
   		<param name="sequence">forumitem_seq</param>
   	 </generator>
   </id>     		
    <property name="title" column="forumitemtitle" />
    <property name="description" column="forumitemdescription" />
   <property name="componentPosition" column="componentposition" />  
   <property name="creationDate" column="creationdate" />    
    <many-to-one  name="parent" column="fk_parent_id"  class="net.sf.jboard.model.forum.dto.ForumCategory" cascade = "all"  />
    <bag name="forumThreads" table="forumThread"  order-by="creationdate desc" cascade="all-delete-orphan" inverse="true" >
   	   <key column="fk_parent_id"/>
   	   <one-to-many class="net.sf.jboard.model.forum.dto.ForumThread" />
   </bag>	
 </class>

</hibernate-mapping>